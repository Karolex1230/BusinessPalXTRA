<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Visual Website Builder | BusinessPal</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,system-ui,Arial;
  background:#0a0a0a;
  color:#fff;
  display:flex;
  height:100vh;
}

/* Sidebar */
.sidebar{
  width:280px;
  background:#000;
  border-right:1px solid #222;
  padding:20px;
  display:flex;
  flex-direction:column;
  gap:12px;
}

.sidebar h2{
  font-size:1.3rem;
  margin-bottom:10px;
}

.sidebar button,
.sidebar input[type="color"]{
  padding:12px;
  border-radius:10px;
  border:none;
  background:#1f2933;
  color:#fff;
  font-weight:700;
  cursor:pointer;
}

.sidebar button:hover{
  background:#3b82f6;
}

.sidebar small{
  color:#9ca3af;
  line-height:1.4;
}

/* Canvas */
.canvas{
  flex:1;
  background:#e5e7eb;
  overflow:auto;
}

.site{
  max-width:1200px;
  margin:40px auto;
  background:#fff;
  min-height:600px;
  padding-bottom:100px;
}

/* Sections */
.section{
  padding:60px 30px;
  border:2px dashed transparent;
  position:relative;
  cursor:move;
}

.section:hover{
  border-color:#3b82f6;
}

.section[contenteditable]:focus{
  outline:none;
}

.hero{
  background:#3b82f6;
  color:#fff;
  text-align:center;
}

.text-section{
  color:#000;
}

.image-section img{
  max-width:100%;
  display:block;
  margin:auto;
  border-radius:14px;
}

/* Controls */
.section-controls{
  position:absolute;
  top:10px;
  right:10px;
  display:flex;
  gap:6px;
}

.section-controls button{
  background:#000;
  color:#fff;
  border:none;
  padding:6px 8px;
  border-radius:6px;
  cursor:pointer;
  font-size:.8rem;
}

/* Floating bar */
.bottom-bar{
  position:fixed;
  bottom:20px;
  right:20px;
  display:flex;
  gap:14px;
}

.bottom-bar button{
  padding:14px 26px;
  border-radius:14px;
  border:none;
  font-weight:800;
  cursor:pointer;
}

.export{
  background:#22d3ee;
}

.save{
  background:#3b82f6;
  color:#fff;
}

/* Back */
.back-home{
  margin-top:auto;
  background:transparent;
  border:2px solid #3b82f6;
  color:#3b82f6;
}
.back-home:hover{
  background:#3b82f6;
  color:#fff;
}
</style>
</head>

<body>

<!-- SIDEBAR -->
<div class="sidebar">
  <h2>Website Builder</h2>

  <button onclick="addHero()">Add Hero</button>
  <button onclick="addText()">Add Text</button>
  <button onclick="addImage()">Add Image</button>

  <label style="margin-top:10px">Background colour</label>
  <input type="color" onchange="changeBackground(this.value)">

  <small>
  Build your website visually.<br>
  You can save your progress and send it to BusinessPal for professional completion.
  <br><br>
  <strong>Please note:</strong> This website builder is currently in an active testing and rebuild phase.
  Some features may be incomplete or behave unexpectedly as we continue improving the experience.
</small>


  <button class="back-home" onclick="location.href='index.html'">
    ← Back to Home
  </button>

  <input type="file" id="imageUpload" accept="image/*" hidden onchange="handleImage(event)">
</div>

<!-- CANVAS -->
<div class="canvas">
  <div id="site" class="site"></div>
</div>

<!-- ACTION BAR -->
<div class="bottom-bar">
  <button class="save" onclick="saveSite()">Save</button>
  <button class="export" onclick="exportHTML()">Download</button>
</div>

<script>
const site = document.getElementById('site');
let dragged;

/* Utilities */
function makeSection(html){
  const div = document.createElement('div');
  div.className = 'section';
  div.draggable = true;
  div.innerHTML = `
    <div class="section-controls">
      <button onclick="this.closest('.section').remove()">✕</button>
    </div>
    ${html}
  `;
  addDrag(div);
  site.appendChild(div);
}

/* Sections */
function addHero(){
  makeSection(`
    <div class="hero">
      <h1 contenteditable="true">Your Website Title</h1>
      <p contenteditable="true">Describe your business here</p>
    </div>
  `);
}

function addText(){
  makeSection(`
    <div class="text-section">
      <p contenteditable="true">
        Click to edit this text and explain your service.
      </p>
    </div>
  `);
}

function addImage(){
  document.getElementById('imageUpload').click();
}

function handleImage(e){
  const file = e.target.files[0];
  if(!file) return;

  const reader = new FileReader();
  reader.onload = () => {
    makeSection(`
      <div class="image-section">
        <img src="${reader.result}">
      </div>
    `);
  };
  reader.readAsDataURL(file);
}

/* Drag & drop */
function addDrag(el){
  el.addEventListener('dragstart', () => dragged = el);
  el.addEventListener('dragover', e => e.preventDefault());
  el.addEventListener('drop', () => {
    site.insertBefore(dragged, el);
  });
}

/* Background */
function changeBackground(color){
  site.style.background = color;
}

/* Save */
function saveSite(){
  localStorage.setItem('savedSite', site.innerHTML);
  alert('Website saved locally. You can return later.');
}

/* Load */
window.onload = () => {
  const saved = localStorage.getItem('savedSite');
  if(saved){
    site.innerHTML = saved;
    document.querySelectorAll('.section').forEach(addDrag);
  }
};

/* Export */
function exportHTML(){
  const html = `
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Your Website</title>
<style>
body{font-family:Arial;margin:0}
.section{padding:60px 30px}
.hero{background:#3b82f6;color:#fff;text-align:center}
img{max-width:100%}
</style>
</head>
<body>
${site.innerHTML}
</body>
</html>
`;
  const blob = new Blob([html],{type:"text/html"});
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = 'my-website.html';
  a.click();
}
</script>

</body>
</html>


